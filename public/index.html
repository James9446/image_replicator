<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Image Replicator</title>
    <link rel="icon" type="image/x-icon" href="/images/image_replicator.ico">
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
      #vision-output, #revised-prompt {
        overflow-y: auto; /* Enable vertical scrolling */
        padding: 10px; /* Add padding */
        margin: 5px; /* Add margin */
        display: block;
        max-height: 100%; /* Set maximum height */
      }
    </style>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-DR2PMEF5LH"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-DR2PMEF5LH');
    </script>
</head>
<body class="bg-white text-black">

<!-- Navigation Header -->
<header class="text-gray-700 bg-white body-font shadow">
  <div class="container mx-auto flex flex-wrap py-5 flex-col md:flex-row items-center">
    <div class="flex justify-between">

    </div>
    <h1 class="flex title-font font-medium items-center text-gray-900 mb-4 md:mb-0">
      <a href="/" class="px-4">
        <!-- <svg xmlns="./svg/image_replicator_icon.svg" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="w-10 h-10 p-2 bg-indigo-500 rounded-full text-white" viewBox="0 0 24 24"> -->
          <svg version="1.0" xmlns="http://www.w3.org/2000/svg"
            width="36.72pt" height="46.8pt" viewBox="0 0 459.000000 585.000000"
            preserveAspectRatio="xMidYMid meet">

            <g transform="translate(0.000000,585.000000) scale(0.100000,-0.100000)"
            fill="#000000" stroke="none">
            <path d="M2065 5825 c-305 -48 -589 -181 -843 -395 l-72 -60 0 133 c0 124 -2
            137 -26 186 -72 144 -271 148 -347 6 -21 -39 -22 -53 -25 -447 -2 -275 1 -420
            8 -448 13 -49 72 -118 117 -137 25 -10 115 -13 406 -13 l373 0 53 26 c116 58
            146 197 63 296 -47 56 -89 67 -252 68 l-145 1 70 67 c147 141 279 222 476 290
            355 124 771 57 1098 -176 36 -26 101 -77 145 -114 92 -78 129 -98 183 -98 73
            1 158 58 182 123 31 82 -2 160 -108 258 -147 135 -359 267 -554 343 -94 37
            -275 83 -377 96 -112 13 -325 11 -425 -5z"/>
            <path d="M3370 4620 c-231 -36 -424 -192 -509 -408 -33 -83 -54 -224 -46 -306
            16 -162 74 -285 190 -402 64 -64 97 -90 165 -123 362 -177 791 -6 921 369 31
            89 38 285 14 380 -56 219 -239 411 -453 474 -67 19 -209 28 -282 16z m234
            -394 c102 -50 160 -141 160 -251 0 -94 -30 -160 -99 -223 -61 -56 -106 -72
            -201 -72 -119 0 -216 66 -267 179 -31 69 -29 170 6 237 33 64 106 130 166 149
            68 22 168 14 235 -19z"/>
            <path d="M360 4396 c-173 -37 -314 -179 -350 -350 -7 -35 -10 -426 -8 -1207
            l3 -1155 37 -75 c20 -40 50 -90 67 -110 41 -49 125 -105 195 -129 59 -21 67
            -21 1573 -20 1458 1 1516 1 1551 19 131 67 135 240 7 314 -15 9 -400 13 -1497
            17 -1472 5 -1477 5 -1504 26 -15 11 -37 33 -48 48 -21 27 -21 32 -21 1111 l0
            1084 29 30 c17 17 46 36 65 41 23 6 402 10 1016 10 932 0 982 1 1021 19 126
            57 132 224 11 308 l-40 28 -1026 2 c-768 1 -1040 -2 -1081 -11z"/>
            <path d="M4412 4213 c-7 -3 -19 -18 -27 -33 -12 -24 -15 -88 -15 -362 0 -388
            0 -386 -87 -428 l-53 -25 -2 -780 c-3 -712 -4 -783 -20 -811 -31 -57 -58 -67
            -210 -73 -117 -6 -141 -9 -165 -27 -49 -36 -73 -82 -73 -138 0 -63 23 -110 73
            -150 l39 -31 192 0 192 0 76 38 c132 65 224 186 248 328 7 45 10 406 8 1204
            -3 1131 -3 1140 -24 1185 -36 77 -103 123 -152 103z"/>
            <path d="M2275 3508 c-33 -8 -73 -43 -224 -195 l-184 -184 -46 45 c-112 110
            -186 102 -324 -33 -195 -189 -873 -894 -889 -924 -22 -38 -23 -118 -4 -155 19
            -36 65 -78 99 -91 19 -8 343 -11 1018 -11 1081 0 1025 -3 1083 59 39 40 47
            120 20 174 -11 19 -93 106 -184 193 -91 87 -243 234 -339 326 l-174 169 39 41
            c21 23 66 69 100 103 l61 61 234 -229 c534 -521 883 -853 926 -881 37 -24 56
            -30 98 -30 142 2 230 135 162 246 -12 20 -121 132 -242 250 -121 117 -404 395
            -630 617 -225 222 -426 414 -445 427 -42 28 -101 36 -155 22z"/>
            <path d="M2894 1140 c-98 -23 -166 -148 -134 -245 15 -47 66 -104 105 -121 19
            -8 84 -14 168 -15 75 -1 137 -5 137 -9 0 -4 -36 -36 -81 -70 -277 -214 -603
            -314 -926 -282 -312 31 -571 155 -833 401 -87 82 -139 106 -202 97 -94 -14
            -157 -80 -165 -174 -8 -81 10 -114 123 -221 300 -287 681 -460 1080 -490 283
            -22 604 44 862 176 126 64 179 99 307 202 55 44 103 81 108 81 4 0 7 -74 7
            -165 0 -180 4 -198 57 -246 39 -37 86 -59 125 -59 41 0 125 39 155 71 52 57
            53 69 53 495 0 272 -4 409 -12 435 -6 22 -26 57 -44 78 -62 72 -57 71 -481 70
            -208 -1 -392 -4 -409 -9z"/>
            </g>
          </svg>
          <!-- <path d="M12 2L2 7h3v6h4v7l5-4v-7h4V7h3Z"></path> -->
      </a>
      <a href="/" class="px-2">
        <span class="text-xl">Image Replicator</span>
      </a>
    </h1>
    <nav class="md:ml-auto flex flex-wrap items-center text-base justify-center">
      <!-- <a href="how-to.html" class="mr-5 hover:text-gray-900">How to use this site?</a> -->
      <a href="/about" class="mr-5 hover:text-gray-900">About</a>
    </nav>
  </div>
</header>
<body class="bg-white text-black">

<div class="flex flex-col p-4 md:flex-row justify-center">
  <!-- grey column 1 -->
  <div class="w-full md:mx-4 max-w-2xl p-6 bg-gray-100 rounded-lg shadow-md">
    <h3 class="text-2xl font-bold mb-4">GPT-4V</h3>
    
    <!-- Image upload options -->
    <div class="flex flex-col mb-4 md:flex-row justify-between items-start md:items-center">
      <button id="random-image-btn" onclick="getRandomImage()" class="bg-blue-500 py-2 px-4 hover:bg-blue-700 text-white font-bold rounded focus:outline-none focus:shadow-outline">
        Random Seed
      </button>

      <span class="text-xl px-4">|</span>
      
      <label for="image-upload" class="bg-blue-500 py-2 px-4 hover:bg-blue-700 text-white font-bold rounded focus:outline-none focus:shadow-outline">
        Upload Image
        <!-- Input field for file upload rather than an button  -->
        <input id="image-upload" onchange="loadImageFromFile(this)" type="file" class="hidden" accept="image/*" />
      </label>
      
      <span class="text-xl px-4">|</span>
      
      <div  class="flex-1 md:mt-0">
        <input id="image-url" onchange="loadImageFromUrl(this.value)" type="text" placeholder="Enter Image URL" class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline" >
      </div>     
      
    </div>
    
    <div class="flex flex-col mt-6">
      <!-- Grey box 1 -->
      <div class="w-full mb-6 p-4 bg-gray-300 rounded-lg">
        <div class="flex justify-between">
          <h4 class="text-xl pt-3 font-bold">Original Image</h4>
          <div class="flex mt-1 mx-4 flex-col justify-end">
            <p class="flex text-xl">Temperature: <span class="flex w-2 px-2 mr-2" id="temp-value"></span></p>
            <input class="flex mt-2 mb-0.5 w-full" id="temp-slider" type="range" min="0" max="200" value="50">
          </div>
        </div>
        <!-- Display Box 1 -->
        <div class="h-72 mt-4 bg-gray-200 rounded flex items-center justify-center text-black">
          <span class="p-4" id="original-image-error-message" style="display: none"></span>
          <!-- Original Image will be displayed here -->
          <a id="original-image-link" class="max-w-full max-h-full enabled" target="_blank" style="display: none;">
            <img id="original-image" alt="Uploaded Image" class="max-w-full max-h-full" style="display: none;" />
          </a>
        </div>
        <!-- Green button -->
        <div class="flex justify-between">
          <button id="gen-description-btn" onclick="getImageDescription()" class="bg-green-500 w-full mt-4 py-2 px-4 mr-2 hover:bg-green-700 text-white font-bold rounded focus:outline-none focus:shadow-outline" type="button" type="button">
            Generate Description
          </button>
          <button id="get-comparison-button" onclick="getImageComparson()" class="bg-green-500 w-full mt-4 py-2 px-4 ml-2 hover:bg-green-700 text-white font-bold rounded focus:outline-none focus:shadow-outline">
            Generate Comparison
          </button>
        </div>
      </div>

      <!-- Grey box 2 -->
      <div class="w-full p-4 bg-gray-300 rounded-lg">
        <h4 id="vision-output-title" class="text-xl font-bold mb-4">Description</h4>
        <!-- Display Box 2 -->
        <div class="h-72 bg-gray-200 rounded flex items-center justify-center text-black">
          <!-- Description will be displayed here -->
          <span class="p-4" id="vision-output-placeholder"></span>
          <span class="p-4" id="vision-output"></span>
        </div>
        <!-- Green button -->
        <button onclick="copyToClipboard('vision-output')" class="bg-green-500 w-full mt-4 py-2 px-4 hover:bg-green-700 text-white font-bold rounded focus:outline-none focus:shadow-outline" type="button">
          Copy Text
        </button>      
      </div>
    </div>
  </div>


  <!-- grey column 2 -->
  <div class="w-full md:mx-4 max-md:mt-6 max-w-2xl bg-gray-100 p-6 border-blacl-100 border-1 rounded-lg shadow-md">
    <h3 class="text-2xl font-bold mb-2">DALL-E 3</h3>
    <!-- Prompt input -->
    <div class="py-2">
      <textarea id="prompt-input" class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline" name="image-prompt" cols="40" rows="1" placeholder="Enter Prompt" ></textarea>
    </div>
    <div class="flex flex-col mt-2">
      <!-- Grey box 3 -->
      <div class="w-full mb-6 mt-1 p-4 bg-gray-300 rounded-lg">
        <div class="flex justify-between">
          <h4 class="text-xl pt-3 font-bold">Generated Image</h4>
          <!-- <p class="flex text-xl">Style:</p> -->
          <div class="flex flex-col pb-4 px-6">
            <label for="vivid-radio" class="radio-wrapper">
              <input id="vivid-radio" type="radio" name="imageType" class="radio-input" checked>
              <span class="radio-label text-xl">Vivid</span>
            </label>
            <label for="natural-radio" class="radio-wrapper">
              <input id="natural-radio" type="radio" name="imageType" class="radio-input">
              <span class="radio-label text-xl">Natural</span>
            </label>
          </div>
        </div>
        <!-- Display Box 3 -->
        <div class="h-72 bg-gray-200 rounded flex items-center justify-center text-black">
          <span class="p-4" id="new-image-placeholder-message"></span>
          <!-- Generated Image will be displayed here -->
          <a id="generated-image-link" class="max-w-full max-h-full" target="_blank" style="display: none;">
            <img id="generated-image" class="max-w-full max-h-full" alt="Generated Image" style="display: none;" />
          </a>
          </div>
          <!-- Green buttons -->
        <div class="flex justify-between">
          <button id="use-description-btn" onclick="getImage(this.id, document.getElementById('vivid-radio').checked)" class="bg-green-500 w-full mt-4 py-2 px-4 mr-2 hover:bg-green-700 text-white font-bold rounded focus:outline-none focus:shadow-outline">
            Use Description
          </button>
          <button id="use-prompt-btn" onclick="getImage(this.id, document.getElementById('vivid-radio').checked)" class="bg-green-500 w-full mt-4 py-2 px-4 ml-2 hover:bg-green-700 text-white font-bold rounded focus:outline-none focus:shadow-outline">
            Use Prompt
          </button>
          <!-- Old copy image link button  -->
          <!-- <button onclick="copyImageURL('generated-image')" class="bg-green-500 w-full mt-4 py-2 px-4 hover:bg-green-700 text-white font-bold rounded focus:outline-none focus:shadow-outline" type="button">
            Copy Temporary Link
          </button> -->
        </div>
      </div>
      <!-- Grey box 4 -->
      <div class="w-full p-4 bg-gray-300 rounded-lg">
        <h4 id="box-4-title" class="text-xl font-bold mb-4">Revised Prompt</h4>
        <!-- Display Box 4 -->
        <div class="h-72 bg-gray-200 rounded flex items-center justify-center text-black">
          <!-- Revised prompt will be displayed here -->
          <span class="p-4" id="revised-prompt"></span>
        </div>
        <!-- Green button -->
        <button onclick="copyToClipboard('revised-prompt')" class="bg-green-500 w-full mt-4 py-2 px-4 hover:bg-green-700 text-white font-bold rounded focus:outline-none focus:shadow-outline" type="button">
          Copy Text
        </button>
      </div>  
    </div>
  </div>
</div>

<script src="./js/main.js"></script>
</body>
</html>